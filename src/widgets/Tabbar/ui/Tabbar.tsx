import { PropsWithChildren } from 'react'
import { Tabbar } from '@telegram-apps/telegram-ui'
import { Link } from '@shared/ui/Link'
import { Outlet, useLocation } from 'react-router-dom'
import styles from './Tabbar.module.css'

interface TabBarPropsType {}

const TeamIcon = () => {
  return (
    <svg
      width="25"
      height="24"
      viewBox="0 0 25 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M8.74754 5.12654C7.4128 5.12654 6.29636 6.23894 6.29636 7.65409C6.29636 9.06924 7.4128 10.1816 8.74754 10.1816C10.0823 10.1816 11.1987 9.06924 11.1987 7.65409C11.1987 6.23894 10.0823 5.12654 8.74754 5.12654ZM4.49636 7.65409C4.49636 5.28327 6.38067 3.32654 8.74754 3.32654C11.1144 3.32654 12.9987 5.28327 12.9987 7.65409C12.9987 10.0249 11.1144 11.9816 8.74754 11.9816C6.38067 11.9816 4.49636 10.0249 4.49636 7.65409ZM16.9967 7.98146C16.2308 7.98146 15.5736 8.62333 15.5736 9.46056C15.5736 10.2978 16.2308 10.9397 16.9967 10.9397C17.7625 10.9397 18.4197 10.2978 18.4197 9.46056C18.4197 8.62333 17.7625 7.98146 16.9967 7.98146ZM13.7736 9.46056C13.7736 7.66991 15.1965 6.18146 16.9967 6.18146C18.7968 6.18146 20.2197 7.66991 20.2197 9.46056C20.2197 11.2512 18.7968 12.7397 16.9967 12.7397C15.1965 12.7397 13.7736 11.2512 13.7736 9.46056ZM4.50926 17.4363C3.71084 18.1733 3.40898 19.0374 3.3598 19.5404C3.31144 20.035 2.8712 20.3969 2.3765 20.3485C1.8818 20.3001 1.51998 19.8599 1.56835 19.3652C1.6588 18.44 2.15285 17.1619 3.28834 16.1137C4.44364 15.0472 6.20744 14.2683 8.74754 14.2683C11.2876 14.2683 13.0514 15.0472 14.2067 16.1137C15.3422 17.1619 15.8363 18.44 15.9267 19.3652C15.9751 19.8599 15.6133 20.3001 15.1186 20.3485C14.6239 20.3969 14.1836 20.0351 14.1353 19.5404C14.0861 19.0374 13.7842 18.1733 12.9858 17.4363C12.2072 16.7176 10.8991 16.0683 8.74754 16.0683C6.59599 16.0683 5.28787 16.7176 4.50926 17.4363ZM15.8531 15.1683C15.8531 14.6713 16.2561 14.2683 16.7531 14.2683C19.2933 14.2683 21.057 15.0472 22.2123 16.1137C23.3478 17.1619 23.8419 18.44 23.9323 19.3652C23.9807 19.8599 23.6189 20.3001 23.1242 20.3485C22.6295 20.3969 22.1893 20.0351 22.1409 19.5404C22.0917 19.0374 21.7898 18.1733 20.9914 17.4363C20.2128 16.7176 18.9047 16.0683 16.7531 16.0683C16.2561 16.0683 15.8531 15.6654 15.8531 15.1683Z"
        fill="white"
      />
    </svg>
  )
}

const LeagueIcon = () => {
  return (
    <svg
      width="25"
      height="24"
      viewBox="0 0 25 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M12.0679 3.85718H12.4321C13.8063 3.85717 14.888 3.85717 15.764 3.92461C16.6586 3.9935 17.405 4.13626 18.0957 4.45662C19.2333 4.98433 20.1864 5.83026 20.8385 6.88664C21.2332 7.52611 21.4574 8.23941 21.6247 9.1088C21.7887 9.96156 21.908 11.0245 22.0599 12.3788L22.5152 16.4366C22.5659 16.8883 22.5224 17.3456 22.3873 17.7805C21.5266 20.5506 17.7189 21.0096 16.2219 18.4894L14.8302 16.1465C14.7864 16.0726 14.7128 16.036 14.6429 16.036H9.85712C9.78723 16.036 9.71363 16.0726 9.66975 16.1465L8.27807 18.4894C6.7811 21.0096 2.97338 20.5506 2.11268 17.7805C1.97757 17.3456 1.93412 16.8883 1.9848 16.4366L2.44008 12.3788C2.59202 11.0245 2.71128 9.96156 2.87532 9.1088C3.04257 8.23941 3.26677 7.52611 3.66151 6.88664C4.31362 5.83026 5.26666 4.98433 6.40433 4.45662C7.09498 4.13626 7.84135 3.9935 8.73603 3.92461C9.61202 3.85717 10.6937 3.85717 12.0679 3.85718ZM8.8705 5.56625C8.08059 5.62707 7.56523 5.74371 7.13739 5.94217C6.30451 6.3285 5.60183 6.95015 5.11898 7.73235C4.86953 8.13646 4.69405 8.63637 4.54509 9.41073C4.39429 10.1946 4.28144 11.1953 4.12489 12.5907L3.6734 16.6147C3.64731 16.8472 3.66974 17.0824 3.73905 17.3055C4.17707 18.7152 6.06406 18.9169 6.80615 17.6676L8.19783 15.3246C8.53889 14.7505 9.1678 14.3892 9.85712 14.3892H14.6429C15.3322 14.3892 15.9611 14.7505 16.3022 15.3246L17.6939 17.6676C18.4359 18.9169 20.3229 18.7152 20.7609 17.3055C20.8303 17.0824 20.8527 16.8472 20.8266 16.6147L20.3751 12.5907C20.2186 11.1953 20.1057 10.1946 19.9549 9.41073C19.806 8.63637 19.6305 8.13646 19.381 7.73235C18.8982 6.95015 18.1955 6.3285 17.3626 5.94217C16.9348 5.74371 16.4194 5.62707 15.6295 5.56625C14.8286 5.50459 13.8142 5.50399 12.3957 5.50399H12.1043C10.6858 5.50399 9.67141 5.50459 8.8705 5.56625ZM8.78204 7.9784C9.25109 7.9784 9.63132 8.34705 9.63132 8.8018V9.35214H10.1692C10.6383 9.35214 11.0185 9.72079 11.0185 10.1755C11.0185 10.6303 10.6383 10.9989 10.1692 10.9989H9.63132V11.5493C9.63132 12.004 9.25109 12.3727 8.78204 12.3727C8.313 12.3727 7.93276 12.004 7.93276 11.5493V10.9989H7.39486C6.92581 10.9989 6.54558 10.6303 6.54558 10.1755C6.54558 9.72079 6.92581 9.35214 7.39486 9.35214H7.93276V8.8018C7.93276 8.34705 8.313 7.9784 8.78204 7.9784Z"
        fill="white"
      />
      <path
        d="M16.8739 8.29441C16.8739 8.77443 16.4725 9.16356 15.9774 9.16356C15.4823 9.16356 15.0809 8.77443 15.0809 8.29441C15.0809 7.81439 15.4823 7.42526 15.9774 7.42526C16.4725 7.42526 16.8739 7.81439 16.8739 8.29441Z"
        fill="white"
      />
      <path
        d="M18.7611 10.1242C18.7611 10.6042 18.3598 10.9933 17.8647 10.9933C17.3696 10.9933 16.9682 10.6042 16.9682 10.1242C16.9682 9.64418 17.3696 9.25505 17.8647 9.25505C18.3598 9.25505 18.7611 9.64418 18.7611 10.1242Z"
        fill="white"
      />
      <path
        d="M14.9866 10.1242C14.9866 10.6042 14.5852 10.9933 14.0901 10.9933C13.595 10.9933 13.1936 10.6042 13.1936 10.1242C13.1936 9.64418 13.595 9.25505 14.0901 9.25505C14.5852 9.25505 14.9866 9.64418 14.9866 10.1242Z"
        fill="white"
      />
      <path
        d="M16.8739 11.954C16.8739 12.434 16.4725 12.8231 15.9774 12.8231C15.4823 12.8231 15.0809 12.434 15.0809 11.954C15.0809 11.474 15.4823 11.0848 15.9774 11.0848C16.4725 11.0848 16.8739 11.474 16.8739 11.954Z"
        fill="white"
      />
    </svg>
  )
}

const FixturesIcon = () => (
  <svg
    width="25"
    height="24"
    viewBox="0 0 25 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M4.96594 9.74998C4.7598 10.4643 4.64935 11.2193 4.64935 12C4.64935 12.7807 4.7598 13.5356 4.96594 14.25H8.37611C8.29434 13.5521 8.24935 12.8027 8.24935 12C8.24935 11.1973 8.29434 10.4479 8.37611 9.74998H4.96594ZM5.73299 7.94998H8.68953C9.0472 6.43374 9.58862 5.23133 10.1841 4.3146C8.29446 4.94503 6.7147 6.25289 5.73299 7.94998ZM12.7493 4.07646C12.0977 4.61026 11.1267 5.8131 10.544 7.94998H14.9547C14.372 5.8131 13.401 4.61026 12.7493 4.07646ZM15.3102 9.74998H10.1885C10.0999 10.4311 10.0494 11.1795 10.0494 12C10.0494 12.8204 10.0999 13.5689 10.1885 14.25H15.3102C15.3988 13.5689 15.4494 12.8204 15.4494 12C15.4494 11.1795 15.3988 10.4311 15.3102 9.74998ZM17.1226 14.25C17.2044 13.5521 17.2493 12.8027 17.2493 12C17.2493 11.1973 17.2044 10.4479 17.1226 9.74998H20.533C20.7389 10.4635 20.8493 11.2182 20.8493 12C20.8493 12.7817 20.7389 13.5364 20.533 14.25H17.1226ZM14.9547 16.05H10.544C11.1267 18.1868 12.0977 19.3897 12.7493 19.9235C13.401 19.3897 14.372 18.1868 14.9547 16.05ZM10.1841 19.6854C9.58862 18.7686 9.0472 17.5662 8.68953 16.05L5.73299 16.05C6.7147 17.7471 8.29446 19.0549 10.1841 19.6854ZM15.3146 19.6853C15.9101 18.7686 16.4515 17.5662 16.8092 16.05L19.766 16.05C18.784 17.7475 17.2039 19.055 15.3146 19.6853ZM19.766 7.94998H16.8092C16.4515 6.43375 15.9101 5.23134 15.3146 4.31461C17.2039 4.94492 18.784 6.25245 19.766 7.94998ZM2.84935 12C2.84935 6.53236 7.28173 2.09998 12.7493 2.09998C16.9994 2.09998 20.6217 4.77764 22.0258 8.53494C22.4292 9.61458 22.6493 10.7826 22.6493 12C22.6493 13.2174 22.4292 14.3854 22.0258 15.465C20.6217 19.2223 16.9994 21.9 12.7493 21.9C7.28173 21.9 2.84935 17.4676 2.84935 12Z"
      fill="white"
    />
  </svg>
)

const SettingsIcon = () => {
  return (
    <svg
      width="25"
      height="24"
      viewBox="0 0 25 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M20.0843 4.69586C19.7383 4.1318 19.1192 3.83634 18.5001 3.91172C18.3697 3.92758 18.1207 4.01791 17.6075 4.3827C17.1083 4.73757 16.476 5.26346 15.5796 6.01007L14.5665 6.85391V14.2206L15.7676 15.0671C16.6416 15.6831 17.2543 16.1141 17.7366 16.4009C18.2283 16.6933 18.4665 16.7607 18.5973 16.7685C19.1967 16.8042 19.7791 16.4965 20.102 15.9461C20.1772 15.8179 20.2585 15.5652 20.302 14.981C20.3449 14.407 20.3455 13.6411 20.3455 12.5522V8.38078C20.3455 7.19523 20.3449 6.35664 20.2987 5.73197C20.2513 5.09127 20.1622 4.82288 20.0843 4.69586ZM12.7665 13.7873V7.33224H7.07639C6.46873 7.33224 6.05934 7.33276 5.74199 7.35503C5.43322 7.3767 5.27913 7.41575 5.17482 7.46019C4.77346 7.63118 4.44679 7.96278 4.27471 8.39009C4.22805 8.50595 4.18914 8.67283 4.16778 8.99486C4.14591 9.32451 4.14545 9.74866 4.14545 10.3726V11.764C4.14545 12.058 4.14629 12.1478 4.15213 12.2154C4.22565 13.0666 4.87529 13.7095 5.6553 13.7808C5.71692 13.7864 5.80011 13.7873 6.08756 13.7873H12.7665ZM13.3408 5.53224L14.4581 4.60155C15.3171 3.88612 16.0024 3.31532 16.5646 2.91562C17.1196 2.52111 17.6796 2.19831 18.2825 2.12491C19.6188 1.96223 20.9139 2.60591 21.6186 3.75466C21.9347 4.26993 22.0426 4.90823 22.0938 5.59918C22.1455 6.29833 22.1455 7.20386 22.1455 8.34241V12.5901C22.1455 13.6324 22.1455 14.4658 22.0971 15.1149C22.0488 15.7616 21.9465 16.3591 21.6546 16.8569C20.9982 17.9758 19.7832 18.6424 18.4903 18.5654C17.9115 18.5309 17.3641 18.2736 16.8167 17.948C16.267 17.6212 15.5972 17.1491 14.7628 16.561L13.3812 15.5873H13.1455V18.6205C13.1455 20.4077 11.7305 21.9 9.93198 21.9C9.3243 21.9 8.71592 21.7257 8.19506 21.3722C7.06976 20.6083 6.23687 19.9045 5.75044 18.8149C5.36109 17.9428 5.22946 16.898 5.19666 15.5334C3.65733 15.2566 2.49559 13.9539 2.35881 12.3703C2.34537 12.2148 2.34541 12.0403 2.34545 11.8048C2.34545 11.7914 2.34545 11.7778 2.34545 11.764L2.34545 10.3426C2.34545 9.75613 2.34544 9.27203 2.37173 8.87572C2.39897 8.46507 2.45727 8.08457 2.60501 7.71769C2.95136 6.85765 3.61906 6.16646 4.46929 5.80422C4.83433 5.6487 5.2124 5.58777 5.61597 5.55945C6.00385 5.53223 6.47671 5.53223 7.04507 5.53224L13.3408 5.53224ZM6.99922 15.5873C7.03484 16.8215 7.15469 17.5449 7.39407 18.0811C7.66626 18.6908 8.13985 19.1592 9.20598 19.8828C9.41384 20.0239 9.66656 20.1 9.93198 20.1C10.6889 20.1 11.3455 19.4617 11.3455 18.6205V15.5873H6.99922Z"
        fill="white"
      />
    </svg>
  )
}

const tabs = [
  {
    id: 0,
    Icon: TeamIcon,
    text: 'Team',
    href: '/main',
  },
  {
    id: 1,
    Icon: LeagueIcon,
    text: 'Leagues',
    href: '/leagues',
  },
  {
    id: 2,
    Icon: FixturesIcon,
    text: 'Fixtures',
    href: '/fixtures',
  },
  {
    id: 3,
    Icon: SettingsIcon,
    text: 'Settings',
    href: '/settings',
  },
]

export const TabBar = ({}: PropsWithChildren<TabBarPropsType>) => {
  const { pathname } = useLocation()
  return (
    <>
      <Tabbar className={styles.container}>
        {tabs.map(({ id, text, Icon, href }) => {
          const active = pathname.split('/').filter(Boolean)[0]
          const hrefLink = href.split('/').filter(Boolean)[0]
          return (
            <Tabbar.Item key={id} text={text} selected={hrefLink === active}>
              <Link to={href}>
                <Icon />
              </Link>
            </Tabbar.Item>
          )
        })}
      </Tabbar>
      <Outlet />
    </>
  )
}
